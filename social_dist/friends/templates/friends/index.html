{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- TODO: pull title from model -->
  <title>Friends | C404 Social Distribution</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<!-- TODO: get css from static file -->
<body>

<!-- Nav Bar -->
<nav class="navbar navbar-default navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span> 
      </button>
      <a class="navbar-brand" href="/authors/home">C404 Social Distribution</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
    <ul class="nav navbar-nav">
      <li><a href="/authors/home"><span class="glyphicon glyphicon-home"></span> Home</a></li>
      <!-- TODO: get friend requests from model -->
      <li class="active"><a href="/friends"><span class="glyphicon glyphicon-user"></span> Friends <span class="badge">2</span></a></li>
      <li><a href="/authors/profile"><span class="glyphicon glyphicon-th"></span> Profile</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="#"><span class="glyphicon glyphicon-user"></span> Settings</a></li>
      <li><a href="/logout/"><span class="glyphicon glyphicon-log-in"></span> Logout</a></li>
    </ul>
    </div>
  </div>
</nav>
<!-- End Nav Bar -->

<div class="container">

<div class="search-content">
  <form method="POST" action="/friends/search/">
  {% csrf_token %}
  Search users: <input type="text" name="search_field">
  <button class="btn btn-primary btn-md" type="submit">Search</button>
</form>
</div>

  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#friends">Local Friends</a></li>
    <li><a data-toggle="tab" href="#remotefriends">Remote Friends</a></li>
  </ul>

<!--   Source for listing friends: http://stackoverflow.com/questions/3998527/how-to-display-a-list-of-objects-containing-many-to-many-relations-in-django-tem 2016-03-06 -->
  <div class="tab-content">
    <div id="friends" class="tab-pane fade in active">
      <h3>My Friends</h3>
      
      {% for local in local_friends %}
      <div class="well">
        <h4 class"local_friend">{{ local }}</h4>
      </div>
      {% endfor %}


    </div>
    <div id="remotefriends" class="tab-pane fade">
      <h3>Remote Friends</h3>

      {% for global in global_friends %}
      <div class="well">
        <h4 class"global_friend">{{ global }}</h4>
        <p>Host: {{ global.host }}</p>
      </div>
      {% endfor %}

    </div>
  </div>

</div>

</body>
</html>
